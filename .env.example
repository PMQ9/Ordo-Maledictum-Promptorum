# ==============================================================================
# INTENT SEGREGATION CYBERSECURITY ARCHITECTURE - Environment Variables
# ==============================================================================
# IMPORTANT: Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# System Configuration
# ------------------------------------------------------------------------------
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=info           # trace, debug, info, warn, error
RUST_LOG=intent_segregation=debug,tower_http=debug

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
SERVER_HOST=127.0.0.1
SERVER_PORT=8080
SERVER_WORKERS=4

# ------------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ------------------------------------------------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=intent_segregation
DATABASE_USER=intent_user
DATABASE_PASSWORD=your-secure-database-password-here
DATABASE_MAX_CONNECTIONS=10
# Full connection string (alternative to individual settings)
DATABASE_URL=postgresql://intent_user:your-secure-database-password-here@localhost:5432/intent_segregation

# ------------------------------------------------------------------------------
# Redis Configuration (Caching & Rate Limiting)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here
REDIS_DB=0
REDIS_POOL_SIZE=10

# ------------------------------------------------------------------------------
# Parser Configuration
# ------------------------------------------------------------------------------
ENABLE_DETERMINISTIC=true
ENABLE_OLLAMA=true
ENABLE_OPENAI=true

# Ollama Configuration
OLLAMA_ENDPOINT=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TEMPERATURE=0.0
OLLAMA_TIMEOUT=30

# OpenAI Configuration
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.0
OPENAI_TIMEOUT=30

# Alternative LLM Provider (Anthropic Claude)
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
ANTHROPIC_MODEL=claude-3-haiku-20240307

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# API Keys for authentication
API_KEY_HEADER=X-API-Key
API_KEYS=key1-abc123,key2-def456,key3-ghi789

# JWT Secret for session management
JWT_SECRET=your-super-secret-jwt-signing-key-change-this-in-production

# Encryption keys (32 bytes hex encoded)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
SIGNING_KEY=fedcba9876543210fedcba9876543210fedcba9876543210fedcba9876543210

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ------------------------------------------------------------------------------
# Email Notifications (SMTP)
# ------------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=your-email-app-password-here
SMTP_FROM=noreply@yourdomain.com
SMTP_USE_TLS=true

# Email recipients for security alerts
ALERT_EMAIL_RECIPIENTS=security@company.com,ops@company.com

# ------------------------------------------------------------------------------
# Slack Notifications
# ------------------------------------------------------------------------------
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#security-alerts
SLACK_USERNAME=Intent Security Bot

# ------------------------------------------------------------------------------
# Monitoring & Observability
# ------------------------------------------------------------------------------
# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# OpenTelemetry
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=intent-segregation

# Sentry error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# ------------------------------------------------------------------------------
# Provider Configuration
# ------------------------------------------------------------------------------
# Active provider config to use
ACTIVE_PROVIDER_CONFIG=b2b_consulting  # b2b_consulting, customer_service, phone_tree_ivr, etc.
PROVIDER_CONFIG_PATH=./config/provider_config.json

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------
ENABLE_ML_CLASSIFIER=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_AUTO_REMEDIATION=false
ENABLE_THREAT_INTELLIGENCE=false
ENABLE_HUMAN_APPROVAL=true

# ------------------------------------------------------------------------------
# Development & Testing
# ------------------------------------------------------------------------------
# Enable debug mode
DEBUG=false

# Mock external services in tests
MOCK_EXTERNAL_SERVICES=false

# Test database (separate from production)
TEST_DATABASE_URL=postgresql://intent_user:password@localhost:5432/intent_segregation_test

# ------------------------------------------------------------------------------
# Cloud Storage (Optional)
# ------------------------------------------------------------------------------
# AWS S3 for document storage
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=intent-segregation-documents

# Google Cloud Storage
GCS_PROJECT_ID=your-gcp-project-id
GCS_BUCKET=intent-segregation-documents
GCS_CREDENTIALS_PATH=/path/to/gcp-credentials.json

# ------------------------------------------------------------------------------
# Webhooks & Integrations
# ------------------------------------------------------------------------------
# Webhook for external integrations
WEBHOOK_URL=https://your-webhook-endpoint.com/events
WEBHOOK_SECRET=your-webhook-signing-secret

# ------------------------------------------------------------------------------
# Session & Token Configuration
# ------------------------------------------------------------------------------
SESSION_TIMEOUT_MINUTES=30
TOKEN_EXPIRY_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=30

# ------------------------------------------------------------------------------
# Ledger Configuration
# ------------------------------------------------------------------------------
LEDGER_ENABLED=true
LEDGER_STORAGE=postgres  # postgres, s3, file
LEDGER_RETENTION_DAYS=365
LEDGER_ENCRYPT_AT_REST=true

# ------------------------------------------------------------------------------
# Malicious Detector Configuration
# ------------------------------------------------------------------------------
MALICIOUS_DETECTOR_ENABLED=true
MALICIOUS_DETECTOR_STRICT_MODE=false
MALICIOUS_DETECTOR_BLOCK_ON_DETECTION=true

# ------------------------------------------------------------------------------
# Notes
# ------------------------------------------------------------------------------
# 1. Generate secure random values for all secrets
# 2. Use different values for development, staging, and production
# 3. Rotate secrets regularly
# 4. Use environment-specific .env files (.env.development, .env.production)
# 5. Consider using a secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.)
