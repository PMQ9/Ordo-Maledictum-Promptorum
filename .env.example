# ==============================================================================
# INTENT SEGREGATION CYBERSECURITY ARCHITECTURE - Environment Variables
# ==============================================================================
# CRITICAL: API keys are split into SACRIFICIAL (smallest/cheapest models)
# and MAIN (production parsers). This minimizes costs while maintaining security.
# ==============================================================================

# ------------------------------------------------------------------------------
# System Configuration
# ------------------------------------------------------------------------------
ENVIRONMENT=development
LOG_LEVEL=info
RUST_LOG=intent_segregation=debug,tower_http=debug

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
SERVER_HOST=127.0.0.1
SERVER_PORT=8080
SERVER_WORKERS=4

# ------------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ------------------------------------------------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=intent_segregation
DATABASE_USER=intent_user
DATABASE_PASSWORD=your-secure-database-password-here
DATABASE_MAX_CONNECTIONS=10
DATABASE_URL=postgresql://intent_user:your-secure-database-password-here@localhost:5432/intent_segregation

# ------------------------------------------------------------------------------
# Redis Configuration (Caching & Rate Limiting)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# ==============================================================================
# SACRIFICIAL LLM PARSERS (The Penitent Cogitators)
# Use smallest/cheapest models - these are disposable sentries for zero-trust
# input validation before main parsers process the request
# ==============================================================================

# Claude Sacrificial (Vault of the Forbidden Cant - cheapest for input testing)
ENABLE_CLAUDE_SACRIFICIAL=true
CLAUDE_SACRIFICIAL_API_KEY=YOUR_KEY_HERE
CLAUDE_SACRIFICIAL_MODEL=claude-3-haiku-20250122
CLAUDE_SACRIFICIAL_TEMPERATURE=0.0
CLAUDE_SACRIFICIAL_TIMEOUT=30

# OpenAI Sacrificial (cheapest model available as of Nov 2025)
ENABLE_OPENAI_SACRIFICIAL=true
OPENAI_SACRIFICIAL_API_KEY=YOUR_KEY_HERE
OPENAI_SACRIFICIAL_MODEL=gpt-5-nano
OPENAI_SACRIFICIAL_TEMPERATURE=0.0
OPENAI_SACRIFICIAL_TIMEOUT=30

# DeepSeek Sacrificial
ENABLE_DEEPSEEK_SACRIFICIAL=true
DEEPSEEK_SACRIFICIAL_API_KEY=YOUR_KEY_HERE
DEEPSEEK_SACRIFICIAL_MODEL=deepseek-v3.2
DEEPSEEK_SACRIFICIAL_TEMPERATURE=0.0
DEEPSEEK_SACRIFICIAL_TIMEOUT=30

# ==============================================================================
# LLM PARSERS (The Council of the Oracular Cogitors)
# Cheapest models for consensus-based intent parsing (multiple LLMs required)
# ==============================================================================

# Claude Council (The Council of the Oracular Cogitors - cheapest for consensus voting)
ENABLE_CLAUDE=true
CLAUDE_COUNCIL_API_KEY=YOUR_KEY_HERE
CLAUDE_COUNCIL_MODEL=claude-3-haiku-20250122
CLAUDE_COUNCIL_TEMPERATURE=0.0
CLAUDE_COUNCIL_TIMEOUT=30

# OpenAI Main (The Council - consensus voting with Claude, using cheapest model)
ENABLE_OPENAI=true
OPENAI_API_KEY=YOUR_KEY_HERE
OPENAI_MODEL=gpt-5-nano
OPENAI_TEMPERATURE=0.0
OPENAI_TIMEOUT=30

# DeepSeek Main (The Council - consensus voting with Claude)
ENABLE_DEEPSEEK=true
DEEPSEEK_API_KEY=YOUR_KEY_HERE
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_TEMPERATURE=0.0
DEEPSEEK_TIMEOUT=30

# ==============================================================================
# EXECUTION ENGINE (The Oathbound Engine) - MAIN LLM
# Claude ONLY - uses balanced model for actual typed function execution
# This is the critical execution layer, not the Council
# ==============================================================================
CLAUDE_API_KEY=YOUR_KEY_HERE
CLAUDE_MODEL=claude-sonnet-4-5-20250514
CLAUDE_TEMPERATURE=0.0
CLAUDE_TIMEOUT=30

# Optional: Ollama (local LLM - disabled by default)
ENABLE_OLLAMA=false
OLLAMA_ENDPOINT=http://localhost:11434
OLLAMA_MODEL=llama2

# ==============================================================================
# Security Configuration
# ==============================================================================
API_KEY_HEADER=X-API-Key
API_KEYS=key1-abc123,key2-def456,key3-ghi789

JWT_SECRET=your-super-secret-jwt-signing-key-change-this-in-production

ENCRYPTION_KEY=YOUR_KEY_HERE
SIGNING_KEY=YOUR_KEY_HERE

RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ==============================================================================
# Email Notifications (SMTP)
# ==============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=your-email-app-password-here
SMTP_FROM=noreply@yourdomain.com
SMTP_USE_TLS=true

ALERT_EMAIL_RECIPIENTS=security@company.com,ops@company.com

# ==============================================================================
# Slack Notifications
# ==============================================================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#security-alerts
SLACK_USERNAME=Intent Security Bot

# ==============================================================================
# Monitoring & Observability
# ==============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090

OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=intent-segregation

SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# ==============================================================================
# Provider Configuration
# ==============================================================================
ACTIVE_PROVIDER_CONFIG=b2b_consulting
PROVIDER_CONFIG_PATH=./config/provider_config.json

# ==============================================================================
# Feature Flags
# ==============================================================================
ENABLE_ML_CLASSIFIER=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_AUTO_REMEDIATION=false
ENABLE_THREAT_INTELLIGENCE=false
ENABLE_HUMAN_APPROVAL=true

# ==============================================================================
# Development & Testing
# ==============================================================================
DEBUG=false
MOCK_EXTERNAL_SERVICES=false
TEST_DATABASE_URL=postgresql://intent_user:password@localhost:5432/intent_segregation_test

# ==============================================================================
# Cloud Storage (Optional)
# ==============================================================================
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=intent-segregation-documents

GCS_PROJECT_ID=your-gcp-project-id
GCS_BUCKET=intent-segregation-documents
GCS_CREDENTIALS_PATH=/path/to/gcp-credentials.json

# ==============================================================================
# Webhooks & Integrations
# ==============================================================================
WEBHOOK_URL=https://your-webhook-endpoint.com/events
WEBHOOK_SECRET=your-webhook-signing-secret

# ==============================================================================
# Session & Token Configuration
# ==============================================================================
SESSION_TIMEOUT_MINUTES=30
TOKEN_EXPIRY_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=30

# ==============================================================================
# Ledger Configuration
# ==============================================================================
LEDGER_ENABLED=true
LEDGER_STORAGE=postgres
LEDGER_RETENTION_DAYS=365
LEDGER_ENCRYPT_AT_REST=true

# ==============================================================================
# Malicious Detector Configuration (Vault of the Forbidden Cant)
# ==============================================================================
MALICIOUS_DETECTOR_ENABLED=true
MALICIOUS_DETECTOR_STRICT_MODE=false
MALICIOUS_DETECTOR_BLOCK_ON_DETECTION=true
